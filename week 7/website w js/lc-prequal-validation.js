var validAmountMsg="enter a valid loan amount";var purposeMsg="choose a loan purpose";var creditMsg="select your credit score";var amountMsg="";var maxLoanAmount="";function init(){if(document.getElementById("maxLoanAmount")){var maxLoanAmountData=document.getElementById("maxLoanAmount");var maxLoanAmountStr=maxLoanAmountData.getAttribute("data-maxloanamout-str");maxLoanAmount=maxLoanAmountData.getAttribute("data-maxloanamout-val")}amountMsg="enter an amount between $1,000 and "+maxLoanAmountStr;lcManagePrequalForms()}function ev(x,y,z){if(document.addEventListener){x.addEventListener(y,z,false)}else{x.attachEvent("on"+y,z)}}function lcManagePrequalForms(){var forms=getElementsByClass("preq-form");var formsLength=forms.length;if(formsLength==1){ev(forms[0],"submit",validatePrequalForm)}else{if(formsLength>1){for(var i=0;i<formsLength;i++){ev(forms[i],"submit",validatePrequalForm)}}}}function hideBubbles(){var bubbles=getElementsByClass("lc-msg-container");for(var i=0;i<bubbles.length;i++){if(bubbles[i].style.display=="block"){bubbles[i].style.display="none"}}}function validatePrequalForm(event){var isMobile=((document.getElementById("mobileForm")!=null))?true:false;if(document.getElementById("mobile-form")!=null){var element=document.getElementById("mobile-form");var style=element.currentStyle||window.getComputedStyle(element)}if(isMobile&&style.display=="block"){var mblForm=document.forms.mobileForm;var bubbleGlobal=document.getElementById("bubbleGlobalMblMessage");var bubbleAmount=document.getElementById("bubbleAmountMblMessage");var bubblePurpose=document.getElementById("bubblePurposeMblMessage");var bubbleCredit=document.getElementById("bubbleCreditMblMessage");var amountField=document.forms["mobile-form"].loanAmount;var purposeField=document.forms["mobile-form"].loanPurpose;var scoreField=document.forms["mobile-form"].creditScore}else{var bubbleGlobal=document.getElementById("bubbleGlobalMessage");var bubbleAmount=document.getElementById("bubbleAmountMessage");var bubblePurpose=document.getElementById("bubblePurposeMessage");var bubbleCredit=document.getElementById("bubbleCreditMessage");var amountField=document.getElementsByName("loanAmount")[0];var purposeField=document.getElementsByName("loanPurpose")[0];var scoreField=document.getElementsByName("creditScore")[0]}cleanStylesAddEvnt(amountField);cleanStylesAddEvnt(purposeField);cleanStylesAddEvnt(scoreField);if(bubbleGlobal){bubbleGlobal.style.display="none";bubbleGlobal.innerHTML=""}if(bubbleAmount){bubbleAmount.style.display="none";bubbleAmount.innerHTML=""}if(bubblePurpose){bubblePurpose.style.display="none";bubblePurpose.innerHTML=""}if(bubbleCredit){bubbleCredit.style.display="none";bubbleCredit.innerHTML=""}var errorArray=new Array();var errorCount=0;var hasErrors=false;amountField.value=amountField.value.trim();if((amountField.value!="")){var r=/^ *\$?\d+(?:\,\d{3})?(?:\.\d+)? *$/g;if(!r.test(amountField.value)){errorArray.push(validAmountMsg);errorCount+=1;hasErrors=true}if(hasErrors!=true){var newVal=amountField.value.replace(/[^0-9.]/g,"");var parsedAmount=parseInt(newVal);if((parsedAmount<1000)||(parsedAmount>maxLoanAmount)){amountField.style.border="1px solid orange";errorArray.push(amountMsg);errorCount+=1;hasErrors=true}}}else{if((amountField.value=="")){amountField.style.border="1px solid orange";errorArray.push(amountMsg);errorCount+=1;hasErrors=true}}purposeField.value=purposeField.value.trim();if((purposeField.value=="")||(purposeField.value=="default")){purposeField.style.border="1px solid orange";errorArray.push(purposeMsg);errorCount+=1;hasErrors=true}scoreField.value=scoreField.value.trim();if((scoreField.value=="")||(scoreField.value=="default")){scoreField.style.border="1px solid orange";errorArray.push(creditMsg);errorCount+=1;hasErrors=true}if(hasErrors){if(errorCount==1){if(errorArray==validAmountMsg){showErrorBubble(bubbleAmount,errorArray)}if(errorArray==amountMsg){showErrorBubble(bubbleAmount,errorArray)}if(errorArray==purposeMsg){showErrorBubble(bubblePurpose,errorArray)}if(errorArray==creditMsg){showErrorBubble(bubbleCredit,errorArray)}}else{if(errorCount>1){showErrorBubble(bubbleGlobal,errorArray)}}if(event.preventDefault){event.preventDefault()}else{event.returnValue=false}}else{if(purposeField.value==="medical"&&location&&location.pathname&&(location.pathname=="/"||location.pathname=="/home.action")){var submitParams="hopscotchredirect=1&loanAmount="+encodeURIComponent(amountField.value)+"&loanPurpose="+encodeURIComponent(purposeField.value)+"&creditScore="+encodeURIComponent(scoreField.value)+"&rate-submit=Check+Your+Rate";window.location="/landing/landing_borrow_lcps.action?"+submitParams;if(event.preventDefault){event.preventDefault()}else{event.returnValue=false}return}if(document.getElementById("applyForALoan")!=null){if(!document.getElementById("SBDialog")){if(typeof YAHOO!="undefined"&&YAHOO.loader!=null){YAHOO.loader.showLoader()}}}return true}}function cleanStylesAddEvnt(elem){elem.removeAttribute("style");ev(elem,"click",hideBubbles)}function showErrorBubble(elem,message){var msgLength=message.length;if(msgLength==1){elem.innerHTML="Please "+message+"."}else{if(msgLength>1){for(var i=0;i<msgLength;i++){if((i==msgLength-1)){elem.innerHTML+=" and "}else{if(i>0){elem.innerHTML+=", "}}elem.innerHTML+=message[i]}elem.innerHTML="Please "+elem.innerHTML+"."}}elem.style.display="block"}function addLoadEvent(func){var oldonload=window.onload;if(typeof window.onload!="function"){window.onload=func}else{window.onload=function(){oldonload();func()}}}addLoadEvent(init);